(()=>{"use strict";var e={365:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(354),o=n.n(r),a=n(314),s=n.n(a)()(o());s.push([e.id,'/* CSS RESET: use box-sizing model; remove default margin & form typography\nstyles; set buttons to display block; set base (pre UA stylesheet) font size; */\n*, *::before, *::after { box-sizing: border-box; }\n* { margin: 0; }\ninput, button, textarea, select { font: inherit; }\nbutton { display: block; cursor: pointer; }\n:root{ font-size: 16px; }  /*chrome default*/\n/* imported google fonts examples */\n/* .roboto { font-family: "Roboto"; font-weight: 400,500; font-style: normal; } */\n/* variables---------------------------------------------------------------- */\n:root{\n  --grey1: hsl(214 27% 82%);\n  --grey2: hsl(214 0% 70%);\n\n  --black: hsl(0, 0%, 0%);\n  --white: hsl(0, 0%, 100%);\n  --transparent: hsl(0, 0%, 0%, 0); /*for gradients*/\n  \n  /* modded tailwind sky palette */\n  --bg950: hsl(204, 80%, 8%);\n  --bg900: hsl(204, 80%, 15%);\n  --bg800: hsl(202, 90%, 23%);\n  --bg700: hsl(201, 90%, 33%);\n  --bg600: hsl(201, 98%, 40%);\n  --mg500: hsl(200, 98%, 52%);\n  --fg400: hsl(200, 98%, 66%);\n  --fg300: hsl(199, 98%, 74%);\n  --fg200: hsl(199, 98%, 82%);\n  --fg100: hsl(199, 96%, 88%);\n  --fg50: hsl(204, 94%, 96%); /* or use white var */\n\n  /*boat,hit,miss colors*/\n  --patrolBoatColor:hsl(181, 100%, 34%); \n  --destroyerColor: hsl(181, 100%, 28%);\n  --submarineColor: hsl(181, 100%, 22%);\n  --battleshipColor:hsl(181, 100%, 17%);\n  --carrierColor:   hsl(181, 100%, 13%);\n  --hitColor: hsl(0, 100%, 44%);\n  --missColor: hsl(38, 100%, 71%);\n}\n\n/* main CSS */\nbody{\n  font-family: \'Roboto\', Arial, Helvetica, sans-serif;\n  font-weight: 400;\n  max-width: 56.25rem;\n  margin: 0 auto;\n  background-color: var(--bg800);\n  color: var(--white);\n  /*below hides long vertical ship overlay going past screen, but causes scroll issue*/\n  /* overflow-y: hidden; */\n\n  h1 {\n    text-align: center;\n    margin-top: 0.25rem;\n    background-color: var(--bg900);\n  }\n\n  span {\n    color: var(--bg800);\n  }\n\n}\n\n#passDeviceDiv {\n  display: none;\n  background-color: var(--fg200);\n\n  #continueBtn {\n    color: var(--bg800);\n  }\n}\n\n#boardsAndLabelsDiv {\n  margin: 0.25rem auto;\n  background-color: var(--fg200);\n  display: flex;\n  flex-wrap: wrap;\n\n  span {\n    flex-basis: 50%;\n    text-align: center;\n  }\n\n  #playerBoardsWrap {\n    flex-basis: 100%;\n    display: flex;\n    gap: 0.25rem;\n\n    .receivingBoardDiv,\n    .attackingBoardDiv {\n      display: grid;\n      grid-template: repeat(10, 1fr) / repeat(10, 1fr);\n      width: 50%;\n      border: 3px solid var(--mg500);\n    }\n    .receivingBoardDiv {\n      [data-cell-data="Patrol Boat"] {\n        background-color: var(--patrolBoatColor);\n      }\n      [data-cell-data="Destroyer"] {\n        background-color: var(--destroyerColor);\n      }\n      [data-cell-data="Submarine"] {\n        background-color: var(--submarineColor);\n      }\n      [data-cell-data="Battleship"] {\n        background-color: var(--battleshipColor);\n      }\n      [data-cell-data="Carrier"] {\n        background-color: var(--carrierColor);\n      }\n    }\n    \n    [data-cell-data="hit"] {\n      background-color: var(--hitColor);\n    }\n    [data-cell-data="miss"] {\n      background-color: var(--missColor);\n    }\n\n    .cellDiv {\n      border: 1px solid var(--bg900);\n      aspect-ratio: 1/1; /*match "auto" width or height to aspect ratio*/\n    }\n  }\n}\n\n.shipOverlayDiv {\n  background-color: var(--mg500);\n  opacity: 0.7;\n  display: block;\n  position: absolute;\n  pointer-events: none; /* pass through click events */\n}\n\n#msgDiv {\n  margin: 0 auto 0.25rem;\n  text-align: center;\n}\n\n.setupControlsWrap {\n  display: flex;\n  justify-content: center;\n  width: 35rem;\n  margin: 0 auto;\n  gap: 0.25rem;\n\n  .btnsWrap {\n    flex-basis: 50%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    text-align: center;\n    background-color: var(--fg100);\n    gap: 0.25rem;\n    padding: 0.25rem 0 0.25rem;\n\n    span {\n      flex-basis: 60%;\n      font-size: 0.9rem;\n    }\n\n    button {\n      flex-basis: 48%;\n      background-color: var(--bg600);\n      color: var(--white);\n      border: 6px outset var(--bg700);\n      border-radius: 1.5rem;\n    }\n    button:hover {\n      background-color: var(--fg200);\n    }\n    button[disabled] {\n      background-color: var(--grey2);\n      cursor: default;\n      border-color: var(--grey2);\n    }\n  }\n}\n',"",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;+EAC+E;AAC/E,yBAAyB,sBAAsB,EAAE;AACjD,IAAI,SAAS,EAAE;AACf,kCAAkC,aAAa,EAAE;AACjD,SAAS,cAAc,EAAE,eAAe,EAAE;AAC1C,OAAO,eAAe,EAAE,GAAG,iBAAiB;AAC5C,mCAAmC;AACnC,iFAAiF;AACjF,8EAA8E;AAC9E;EACE,yBAAyB;EACzB,wBAAwB;;EAExB,uBAAuB;EACvB,yBAAyB;EACzB,gCAAgC,EAAE,gBAAgB;;EAElD,gCAAgC;EAChC,0BAA0B;EAC1B,2BAA2B;EAC3B,2BAA2B;EAC3B,2BAA2B;EAC3B,2BAA2B;EAC3B,2BAA2B;EAC3B,2BAA2B;EAC3B,2BAA2B;EAC3B,2BAA2B;EAC3B,2BAA2B;EAC3B,0BAA0B,EAAE,qBAAqB;;EAEjD,uBAAuB;EACvB,qCAAqC;EACrC,qCAAqC;EACrC,qCAAqC;EACrC,qCAAqC;EACrC,qCAAqC;EACrC,6BAA6B;EAC7B,+BAA+B;AACjC;;AAEA,aAAa;AACb;EACE,mDAAmD;EACnD,gBAAgB;EAChB,mBAAmB;EACnB,cAAc;EACd,8BAA8B;EAC9B,mBAAmB;EACnB,oFAAoF;EACpF,wBAAwB;;EAExB;IACE,kBAAkB;IAClB,mBAAmB;IACnB,8BAA8B;EAChC;;EAEA;IACE,mBAAmB;EACrB;;AAEF;;AAEA;EACE,aAAa;EACb,8BAA8B;;EAE9B;IACE,mBAAmB;EACrB;AACF;;AAEA;EACE,oBAAoB;EACpB,8BAA8B;EAC9B,aAAa;EACb,eAAe;;EAEf;IACE,eAAe;IACf,kBAAkB;EACpB;;EAEA;IACE,gBAAgB;IAChB,aAAa;IACb,YAAY;;IAEZ;;MAEE,aAAa;MACb,gDAAgD;MAChD,UAAU;MACV,8BAA8B;IAChC;IACA;MACE;QACE,wCAAwC;MAC1C;MACA;QACE,uCAAuC;MACzC;MACA;QACE,uCAAuC;MACzC;MACA;QACE,wCAAwC;MAC1C;MACA;QACE,qCAAqC;MACvC;IACF;;IAEA;MACE,iCAAiC;IACnC;IACA;MACE,kCAAkC;IACpC;;IAEA;MACE,8BAA8B;MAC9B,iBAAiB,EAAE,+CAA+C;IACpE;EACF;AACF;;AAEA;EACE,8BAA8B;EAC9B,YAAY;EACZ,cAAc;EACd,kBAAkB;EAClB,oBAAoB,EAAE,8BAA8B;AACtD;;AAEA;EACE,sBAAsB;EACtB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,YAAY;EACZ,cAAc;EACd,YAAY;;EAEZ;IACE,eAAe;IACf,aAAa;IACb,eAAe;IACf,uBAAuB;IACvB,kBAAkB;IAClB,8BAA8B;IAC9B,YAAY;IACZ,0BAA0B;;IAE1B;MACE,eAAe;MACf,iBAAiB;IACnB;;IAEA;MACE,eAAe;MACf,8BAA8B;MAC9B,mBAAmB;MACnB,+BAA+B;MAC/B,qBAAqB;IACvB;IACA;MACE,8BAA8B;IAChC;IACA;MACE,8BAA8B;MAC9B,eAAe;MACf,0BAA0B;IAC5B;EACF;AACF",sourcesContent:['/* CSS RESET: use box-sizing model; remove default margin & form typography\nstyles; set buttons to display block; set base (pre UA stylesheet) font size; */\n*, *::before, *::after { box-sizing: border-box; }\n* { margin: 0; }\ninput, button, textarea, select { font: inherit; }\nbutton { display: block; cursor: pointer; }\n:root{ font-size: 16px; }  /*chrome default*/\n/* imported google fonts examples */\n/* .roboto { font-family: "Roboto"; font-weight: 400,500; font-style: normal; } */\n/* variables---------------------------------------------------------------- */\n:root{\n  --grey1: hsl(214 27% 82%);\n  --grey2: hsl(214 0% 70%);\n\n  --black: hsl(0, 0%, 0%);\n  --white: hsl(0, 0%, 100%);\n  --transparent: hsl(0, 0%, 0%, 0); /*for gradients*/\n  \n  /* modded tailwind sky palette */\n  --bg950: hsl(204, 80%, 8%);\n  --bg900: hsl(204, 80%, 15%);\n  --bg800: hsl(202, 90%, 23%);\n  --bg700: hsl(201, 90%, 33%);\n  --bg600: hsl(201, 98%, 40%);\n  --mg500: hsl(200, 98%, 52%);\n  --fg400: hsl(200, 98%, 66%);\n  --fg300: hsl(199, 98%, 74%);\n  --fg200: hsl(199, 98%, 82%);\n  --fg100: hsl(199, 96%, 88%);\n  --fg50: hsl(204, 94%, 96%); /* or use white var */\n\n  /*boat,hit,miss colors*/\n  --patrolBoatColor:hsl(181, 100%, 34%); \n  --destroyerColor: hsl(181, 100%, 28%);\n  --submarineColor: hsl(181, 100%, 22%);\n  --battleshipColor:hsl(181, 100%, 17%);\n  --carrierColor:   hsl(181, 100%, 13%);\n  --hitColor: hsl(0, 100%, 44%);\n  --missColor: hsl(38, 100%, 71%);\n}\n\n/* main CSS */\nbody{\n  font-family: \'Roboto\', Arial, Helvetica, sans-serif;\n  font-weight: 400;\n  max-width: 56.25rem;\n  margin: 0 auto;\n  background-color: var(--bg800);\n  color: var(--white);\n  /*below hides long vertical ship overlay going past screen, but causes scroll issue*/\n  /* overflow-y: hidden; */\n\n  h1 {\n    text-align: center;\n    margin-top: 0.25rem;\n    background-color: var(--bg900);\n  }\n\n  span {\n    color: var(--bg800);\n  }\n\n}\n\n#passDeviceDiv {\n  display: none;\n  background-color: var(--fg200);\n\n  #continueBtn {\n    color: var(--bg800);\n  }\n}\n\n#boardsAndLabelsDiv {\n  margin: 0.25rem auto;\n  background-color: var(--fg200);\n  display: flex;\n  flex-wrap: wrap;\n\n  span {\n    flex-basis: 50%;\n    text-align: center;\n  }\n\n  #playerBoardsWrap {\n    flex-basis: 100%;\n    display: flex;\n    gap: 0.25rem;\n\n    .receivingBoardDiv,\n    .attackingBoardDiv {\n      display: grid;\n      grid-template: repeat(10, 1fr) / repeat(10, 1fr);\n      width: 50%;\n      border: 3px solid var(--mg500);\n    }\n    .receivingBoardDiv {\n      [data-cell-data="Patrol Boat"] {\n        background-color: var(--patrolBoatColor);\n      }\n      [data-cell-data="Destroyer"] {\n        background-color: var(--destroyerColor);\n      }\n      [data-cell-data="Submarine"] {\n        background-color: var(--submarineColor);\n      }\n      [data-cell-data="Battleship"] {\n        background-color: var(--battleshipColor);\n      }\n      [data-cell-data="Carrier"] {\n        background-color: var(--carrierColor);\n      }\n    }\n    \n    [data-cell-data="hit"] {\n      background-color: var(--hitColor);\n    }\n    [data-cell-data="miss"] {\n      background-color: var(--missColor);\n    }\n\n    .cellDiv {\n      border: 1px solid var(--bg900);\n      aspect-ratio: 1/1; /*match "auto" width or height to aspect ratio*/\n    }\n  }\n}\n\n.shipOverlayDiv {\n  background-color: var(--mg500);\n  opacity: 0.7;\n  display: block;\n  position: absolute;\n  pointer-events: none; /* pass through click events */\n}\n\n#msgDiv {\n  margin: 0 auto 0.25rem;\n  text-align: center;\n}\n\n.setupControlsWrap {\n  display: flex;\n  justify-content: center;\n  width: 35rem;\n  margin: 0 auto;\n  gap: 0.25rem;\n\n  .btnsWrap {\n    flex-basis: 50%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    text-align: center;\n    background-color: var(--fg100);\n    gap: 0.25rem;\n    padding: 0.25rem 0 0.25rem;\n\n    span {\n      flex-basis: 60%;\n      font-size: 0.9rem;\n    }\n\n    button {\n      flex-basis: 48%;\n      background-color: var(--bg600);\n      color: var(--white);\n      border: 6px outset var(--bg700);\n      border-radius: 1.5rem;\n    }\n    button:hover {\n      background-color: var(--fg200);\n    }\n    button[disabled] {\n      background-color: var(--grey2);\n      cursor: default;\n      border-color: var(--grey2);\n    }\n  }\n}\n'],sourceRoot:""}]);const i=s},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var A=0;A<e.length;A++){var c=[].concat(e[A]);r&&s[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},354:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},s=[],i=0;i<e.length;i++){var l=e[i],A=r.base?l[0]+r.base:l[0],c=a[A]||0,d="".concat(A," ").concat(c);a[A]=c+1;var u=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var C=o(p,r);r.byIndex=i,t.splice(i,0,{identifier:d,updater:C,references:1})}s.push(d)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=n(a[s]);t[i].references--}for(var l=r(e,o),A=0;A<a.length;A++){var c=n(a[A]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(72),t=n.n(e),r=n(825),o=n.n(r),a=n(659),s=n.n(a),i=n(56),l=n.n(i),A=n(540),c=n.n(A),d=n(113),u=n.n(d),p=n(365),C={};C.styleTagTransform=u(),C.setAttributes=l(),C.insert=s().bind(null,"head"),C.domAPI=o(),C.insertStyleElement=c(),t()(p.A,C),p.A&&p.A.locals&&p.A.locals;const g=e=>console.log(e),h=(e=null,t=null)=>({value:e,next:t}),m=(e=null,t=null)=>{let n=0;const r=r=>{if(e){const t=h(r);t.next=e,e=t}else e=h(r),t=e;n++},o=()=>n,a=(t,n)=>{let r=e;if(!n&&(t<0||t>=o()))throw new Error("Index outside list bounds [list is zero-indexed]");for(let e=0;e<=t;e++){if(e===t)return r;r=r.next}};return{append:r=>{e?(t.next=h(r),t=t.next):(e=h(r),t=e),n++},prepend:r,getHead:()=>e,getTail:()=>t,getSize:o,at:a,pop:()=>{if(0===o())return void g("list empty, nothing to remove");if(1===o())return[e,t]=[null,null],void n--;let r=e;for(;r.next;)t=r,r=r.next;t.next=null,n--},findIndex:t=>{let n=0,r=e;for(;r;){if(r.value===t)return n;n++,r=r.next}return null},toString:()=>{if(0===o())return"linked list is empty";let t="",n=e;for(;n;)t+=`( ${n.value} ) -> `,n=n.next;return t+="null",t},insertAt:(e,t)=>{if(g(`value to insert: ${e}`),t<0||t>=o())throw new Error(`Insertion Index not in list bounds. (List empty: ${0===o()?"true":"false"})`);if(0===t)return void r(e);const s=a(t-1,!0),i=s.next.next;s.next=h(e,i),n++},removeAt:t=>{if(t<0||t>=o())throw new Error(`Removal Index not in list bounds. (List empty: ${0===o()?"true":"false"})`);let r;if(0===t)return r=e.value,e=e.next,n--,r;const s=a(t-1,!0);r=s.next.value;const i=s.next.next;return s.next=i,n--,r}}},b=e=>{const t=m();let n,r,o;return e.getPlayGrid().forEach(((e,n)=>{e.forEach(((e,r)=>t.append(`${n},${r}`)))})),{getNextAttackCoords:e=>{if(r){const[a,s]=n,[i,l]=r;if(a===i){if(s>0&&"hit"!==e[a][s-1]&&"miss"!==e[a][s-1])return null!==e[a][s-1]&&(r=n,n=[a,s-1]),null===e[a][s-1]&&(n=o,r=[o[0],o[1]-1]),t.removeAt(t.findIndex(`${a},${s-1}`)),[a,s-1];if(s<9&&"hit"!==e[a][s+1]&&"miss"!==e[a][s+1])return null!==e[a][s+1]&&(r=n,n=[a,s+1]),null===e[a][s+1]&&(n=o,r=[o[0],o[1]+1]),t.removeAt(t.findIndex(`${a},${s+1}`)),[a,s+1]}else if(s===l){if(a>0&&"hit"!==e[a-1][s]&&"miss"!==e[a-1][s])return null!==e[a-1][s]&&(r=n,n=[a-1,s]),null===e[a-1][s]&&(n=o,r=[o[0]-1,o[1]]),t.removeAt(t.findIndex(`${a-1},${s}`)),[a-1,s];if(a<9&&"hit"!==e[a+1][s]&&"miss"!==e[a+1][s])return null!==e[a+1][s]&&(r=n,n=[a+1,s]),null===e[a+1][s]&&(n=o,r=[o[0]+1,o[1]]),t.removeAt(t.findIndex(`${a+1},${s}`)),[a+1,s]}[n,r]=[null,null]}if(n){const[o,a]=(e=>{const[r,o]=n,a=[-1,0,1,0],s=[0,1,0,-1];for(let n=0;n<4;n++){const i=r+a[n],l=o+s[n];if(i<10&&i>-1&&l<10&&l>-1)switch(e[i][l]){case null:return t.removeAt(t.findIndex(`${i},${l}`)),[[i,l],"miss"];case"Patrol Boat":case"Destroyer":case"Submarine":case"Battleship":case"Carrier":return t.removeAt(t.findIndex(`${i},${l}`)),[[i,l],"hit"]}}return[[null,null],null]})(e);switch(a){case"hit":return r=n,n=o,o;case"miss":return o}}const a=t.removeAt(Math.floor(Math.random()*t.getSize())).split(",").map(Number);switch(e[a[0]][a[1]]){case null:return a;case"Patrol Boat":case"Destroyer":case"Submarine":case"Battleship":case"Carrier":return n=a,o=a,a}}}},f=(e="human")=>{const t=(()=>{let e=[...Array(10)].map((()=>Array(10).fill(null))),t=new Map;const n=(n,r,o)=>{t.set(o,((e,t,n,r)=>{const o=(e=>{let t,n=0,r=!1;switch(e){case"Carrier":t=5;break;case"Battleship":t=4;break;case"Destroyer":case"Submarine":t=3;break;case"Patrol Boat":t=2}return{getLength:()=>t,getHits:()=>n,isSunk:()=>r,hitShip:()=>{n<t&&(n+=1),n===t&&(r=!0)},shipName:e}})(n),a=o.getLength(),s=[],i=(e,t)=>{if(e>-1&&e<10&&t>-1&&t<10){if(null===r[e][t])return!0;throw new Error(`cell ${e},${t} occupied`)}throw new Error(`cell ${e},${t} out of bounds`)};let l,A;for(let n=0;n<a;n++)switch(t){case"up":[l,A]=[e[0]-n,e[1]],i(l,A)&&s.push([l,A]);break;case"right":[l,A]=[e[0],e[1]+n],i(l,A)&&s.push([l,A]);break;case"down":[l,A]=[e[0]+n,e[1]],i(l,A)&&s.push([l,A]);break;case"left":[l,A]=[e[0],e[1]-n],i(l,A)&&s.push([l,A])}return s.length===o.getLength()&&s.forEach((e=>{r[e[0]][e[1]]=n})),o})(n,r,o,e))};return{getPlayGrid:()=>e,placeShip:n,receiveAttack:n=>{const r=n[0],o=n[1];if(!(r>-1&&r<10&&o>-1&&o<10))throw new Error("attack out of bounds");switch(e[r][o]){case null:return e[r][o]="miss","miss";case"Patrol Boat":case"Destroyer":case"Submarine":case"Battleship":case"Carrier":return t.get(e[r][o]).hitShip(),e[r][o]="hit","hit"}},getShipsMap:()=>t,allShipsSunk:()=>![...t.values()].some((e=>!e.isSunk())),placeShipsRandomly:()=>{e=[...Array(10)].map((()=>Array(10).fill(null))),t=new Map;const r=["Carrier","Battleship","Submarine","Destroyer","Patrol Boat"],o=[5,4,3,3,2],a=new Set,s=m();e.forEach(((e,t)=>{e.forEach(((e,n)=>s.append([t,n])))}));const i=e=>{if(e===r.length)return;let t=Math.random()<.5?"right":"down";const l=s.removeAt(Math.floor(Math.random()*s.getSize()));if(a.has(l.join(",")))i(e);else try{n(l,t,r[e]);for(let n=1;n<o[e];n++)"right"===t?a.add(`${l[0]},${l[1]+n}`):a.add(`${l[0]+n},${l[1]}`);i(++e)}catch(A){if(+A.message[5]===l[0]&&+A.message[7]===l[1])i(e);else try{t="right"===t?"left":"up",n(l,t,r[e]);for(let n=1;n<o[e];n++)"left"===t?a.add(`${l[0]},${l[1]-n}`):a.add(`${l[0]-n},${l[1]}`);i(++e)}catch(t){s.append(l),i(e)}}};i(0)}}})();return{getGameboard:()=>t,getType:()=>e,..."computer"===e?b(t):{}}},v=()=>{const e=document.querySelector("#passDeviceDiv"),t=document.querySelector("#continueBtn"),n=document.querySelector("#boardsAndLabelsDiv"),r=document.querySelector(".receivingBoardDiv"),o=document.querySelector(".attackingBoardDiv"),a=document.querySelector("#msgDiv"),s=document.querySelector("#startBtn"),i=document.querySelector("#restartBtn"),l=document.querySelector(".clearable"),A=document.querySelector(".shipOverlayDiv"),c=["Patrol Boat","Destroyer","Submarine","Battleship","Carrier"],d=[2,3,3,4,5];let u,p,C,g,h,m,b,B,E,y,x,k=!1,w=!1,S=!1,I=!1;const D=()=>{[[B,r],[E,o]].forEach((([e,t])=>{t.textContent="",e.getGameboard().getPlayGrid().forEach(((e,n)=>{e.forEach(((e,r)=>{const o=document.createElement("div");o.classList.add("cellDiv"),o.dataset.cellData=e,o.dataset.row=n,o.dataset.col=r,t.append(o)}))}))}))},M=t=>{if(t.stopPropagation(),!y&&!k)if("1P"===h&&(k=!0),"cellDiv"===t.target.className){const r=E.getGameboard().receiveAttack([+t.target.dataset.row,+t.target.dataset.col]);r?(D(),E.getGameboard().allShipsSunk()?(o.removeEventListener("click",M),a.textContent=`Player ${B===m?"1":"2"} wins!`,k=!1):(a.textContent="hit"===r?"Attack hit!":"Attack missed!",y=setTimeout((()=>{"2P"===h?(n.style.display="none",e.style.display="block"):$(),y=null}),1500))):k=!1}else k=!1},$=()=>{const e=B.getGameboard().receiveAttack(E.getNextAttackCoords(B.getGameboard().getPlayGrid()));D(),a.textContent="hit"===e?"Computer's attack hit! Make your turn..":"Computer's Attack missed! Make your turn..",B.getGameboard().allShipsSunk()&&(o.removeEventListener("click",M),a.textContent="Computer wins!"),k=!1},P=t=>{t.stopPropagation(),[E,B]=[B,E],e.style.display="none",I||!w||S?(D(),a.textContent=`Player ${B===m?"1":"2"}'s attack turn..`):F(),n.style.display="flex"},L=()=>{i.removeAttribute("disabled"),s.setAttribute("disabled",""),x.setAttribute("disabled",""),o.addEventListener("click",M),a.textContent=`Player ${B===m?1:2}'s attack turn..`},q=()=>C="right"===C?"down":"right",R=e=>{if(e.stopPropagation(),p<5&&u)try{B.getGameboard().placeShip([+u.dataset.row,+u.dataset.col],C,c[p]),D(),p++,p<5?a.textContent=`Place your ${c[p]}`:("1P"===h?j(!0):A.style.display="none",s.removeAttribute("disabled"),a.textContent="Click start to confirm placements")}catch(e){a.textContent="invalid ship placement, try again"}},z=e=>{e.stopPropagation(),u=e.target.classList.contains("cellDiv")?e.target:null,u&&(A.style.top=`${u.getBoundingClientRect().top+window.scrollY}px`,A.style.left=`${u.getBoundingClientRect().left+window.scrollX}px`,"right"===C?(A.style.width=u.getBoundingClientRect().width*d[p]+"px",A.style.height=`${u.getBoundingClientRect().height}px`):"down"===C&&(A.style.width=`${u.getBoundingClientRect().width}px`,A.style.height=u.getBoundingClientRect().height*d[p]+"px"))},j=(e=!1)=>{r.removeEventListener("click",R),r.removeEventListener("mouseover",z),A.style.display="none",g.removeEventListener("click",q),g.setAttribute("disabled",""),e||x.setAttribute("disabled","")},G=()=>{p=5,B.getGameboard().placeShipsRandomly(),D(),s.removeAttribute("disabled"),j(!0),a.textContent="Click start to confirm placements."},F=()=>{p=0,C="right",l.textContent="",g=document.createElement("button"),g.textContent="change ship direction",g.addEventListener("click",q),x=document.createElement("button"),x.textContent="place ships randomly",x.addEventListener("click",G),l.append(g,x),r.addEventListener("mouseover",z),r.addEventListener("click",R),"2P"===h&&t.addEventListener("click",P),D(),A.style.display="block",a.textContent=`Player ${B===m?"1":"2"}, click grid\n    to place Patrol Boat, or the place ships randomly button`};document.querySelector(".setupControlsWrap").addEventListener("click",(t=>{switch(t.stopPropagation(),t.target.id){case"playOtherPlayerBtn":h="2P",m=f(),b=f(),[B,E]=[m,b],a.textContent="Player 1, please take or turn device away and click start",s.removeAttribute("disabled");break;case"playComputerBtn":h="1P",m=f(),b=f("computer"),[B,E]=[m,b],F();break;case"startBtn":"1P"===h?(b.getGameboard().placeShipsRandomly(),L()):w||S?S&&!w?(S=!1,w=!0,s.setAttribute("disabled",""),x.setAttribute("disabled",""),n.style.display="none",e.style.display="block",a.textContent="",g.setAttribute("disabled","")):w&&!S&&(I=!0,j(),L()):(S=!0,s.setAttribute("disabled",""),F());break;case"restartBtn":"1P"===h?(m=f(),b=f("computer"),[B,E]=[m,b],o.removeEventListener("click",M),i.setAttribute("disabled",""),F()):(n.style.display="flex",e.style.display="none",m=f(),b=f(),[B,E]=[m,b],o.removeEventListener("click",M),i.setAttribute("disabled",""),S=!0,w=!1,I=!1,F())}})),document.removeEventListener("DOMContentLoaded",v)};document.addEventListener("DOMContentLoaded",v)})()})();
//# sourceMappingURL=main.bundle.js.map